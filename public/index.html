<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">
    
<link rel="stylesheet" type="text/css" href="style/main.css">
    
    <title>CDS Student Center Point Tracker</title>
</head>
<body>
    <div class="container" ng-controller="AppCtrl">
        <h1>CDS Student Center Point Tracker</h1>
        <form role="form" ng-submit="addStudent()">
            <div class="form-group">
                <label>Name:</label>
                <input class="form-control" type="text" ng-model="student.name" name="name">
            </div>
            <div class="form-group">
                <label>PawPrint:</label>
                <input class="form-control" type="text" ng-model="student.pawPrint" name="pawPrint">
            </div>
            <input type="hidden" ng-model="student.pointTotal" ng-value="0">
            <input type = "submit" value="Add Student">
        </form>
        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>PawPrint</th>
                    <th>Point Total</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat-start="student in studentlist" ng-click="showDetail(student); getHistory(student._id)" ng-class="{'danger-points-color': student.pointTotal >= 4, 'high-points-color': student.pointTotal > 2 && student.pointTotal < 4, 'low-points-color': student.pointTotal <= 2 && student.pointTotal > 1, 'very-low-points-color': student.pointTotal > 0 && student.pointTotal <= 1, 'default-color': student.pointTotal == 0}">
                    <td>{{student.name}}</td>
                    <td>{{student.pawPrint}}</td>
                    <td>{{student.pointTotal}}</td>
                </tr>
                <tr ng-repeat-end=" " ng-show="active==student" id="revealedRow">
                    <td colspan="3">
                        <div class="container">
                            <h2 class="dropDownHeader">Give Points</h2>
                            <form role="form">
                                <label class="radio-inline">
                                    <input type="radio" ng-model="points.number" value="1">
                                    Out of Uniform [1 pt]
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" ng-model="points.number" value="1.5">
                                    Insubordination [1.5 pts]
                                </label>
                                <label class="radio-inline">
                                    <input type="radio" ng-model="points.number" value="3">
                                    No Call, No Show [3 pts]
                                </label><br>
                                <div class="form-group">
                                    <label>Short Description:</label>
                                    <textarea class="form-control" rows="3" ng-model="points.description"></textarea>
                                </div>
                                <div class="form-group">
                                    <label>Manager/Supervisor:</label>
                                    <input type="text" class="form-control" ng-model="points.author">
                                </div>
                                <p>
                                    <button id="submitPtsBtn" class="btn btn-warning" ng-click="update(student._id)">Submit</button>
                                </p>
                            </form>
                            <h2 class="dropDownHeader">{{student.name}}'s History</h2>
                            <ul ng-repeat="h in history">
                                <li>{{h.date}} -- {{h.desc}}</li>
                            </ul>
                            <hr>
                            <span><button id="removeButton" class="btn btn-danger" ng-click="remove(student._id); removeLog(student._id);">Remove Student Completely</button></span>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Get Angular -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
    <!-- Get Angular Bootstrap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.14.3/ui-bootstrap-tpls.min.js"></script>
    <!-- Get Controller -->
    <script src="controllers/controller.js"></script>
</body>
</html>

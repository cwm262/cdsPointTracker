<!DOCTYPE html>
<html ng-app="myApp">
<head>
    <!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" integrity="sha512-dTfge/zgoMYpP7QbHy4gWMEGsbsdZeCXz7irItjcC3sPUFtf0kuFbDz/ixG7ArTxmDjLXDmezHubeNikyKGVyQ==" crossorigin="anonymous">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css" integrity="sha384-aUGj/X2zp5rLCbBxumKTCw2Z50WgIr1vs/PFN4praOTvYXWlVyh2UtNUU0KAUhAX" crossorigin="anonymous">
    
<link rel="stylesheet" type="text/css" href="style/main.css">
    
    <title>CDS Student Center Point Tracker</title>
</head>
<body>
    <div class="container" ng-controller="AppCtrl">
        <h1>CDS Student Center Point Tracker</h1>
        <table class="table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>PawPrint</th>
                    <th>Point Total</th>
                    <th>Action</th>
                    <th>&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><input class="form-control" ng-model="student.name"></td>
                    <td><input class="form-control" ng-model="student.pawPrint"></td>
                    <td><input class="form-control" ng-model="student.pointTotal"></td>
                    <td><button class="btn btn-primary" ng-click="addStudent()">Add Student</button></td>
                    <td><button class="btn btn-info" ng-click="update()">Update</button>&nbsp;&nbsp;<button class="btn btn-info" ng-click="deselect()">Clear</button></td>
                    
                </tr>
                <tr ng-repeat-start="student in studentlist" ng-click="showDetail(student); getHistory(student.pawPrint)" ng-class="{'danger-points-color': student.pointTotal >= 4, 'high-points-color': student.pointTotal > 2 && student.pointTotal < 4, 'low-points-color': student.pointTotal <= 2 && student.pointTotal > 1, 'very-low-points-color': student.pointTotal > 0 && student.pointTotal <= 1, 'default-color': student.pointTotal == 0}">
                    <td>{{student.name}}</td>
                    <td>{{student.pawPrint}}</td>
                    <td>{{student.pointTotal}}</td>
                    <td><button class="btn btn-danger" ng-click="remove(student._id)">Remove</button></td>
                    <td><button class="btn btn-warning" ng-click="edit(student._id)">Edit</button></td>
                </tr>
                <tr ng-repeat-end=" " ng-show="active==student" id="revealedRow">
                    <td colspan="5">
                        <div>
                            <p id="historyHeader"><h2>{{student.name}}'s History</h2></p>
                            <ul ng-repeat="h in history">
                                <li>{{h.date}} -- {{h.desc}}</li>
                            </ul>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Get Angular -->
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
    <!-- Get Angular Bootstrap -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.14.3/ui-bootstrap-tpls.min.js"></script>
    <!-- Get Controller -->
    <script src="controllers/controller.js"></script>
</body>
</html>
